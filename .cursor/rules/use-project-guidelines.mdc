---
alwaysApply: true
---
# When working in this repository:

- Follow the Python AI coding rules described in `docs/ai/ai-guidelines-python.md`.
- Always assume:
  - Python commands must be run via `uv`.
  - Tests and linting must be run via `taskipy` tasks, e.g. `uv run task test`, `uv run task lint`.
  - Tests use pytest with function-style tests and pytest fixtures (`mocker`, `tmp_path`, `monkeypatch`).
  - DO NOT use `unittest` or `unittest.mock`. Use `pytest-mock`'s `mocker` fixture instead.
  - Style and formatting are enforced by `ruff`, run via `uv run task lint`.
